<% title = "List the shades #{@component_name} is available in" %>

<% content_for :page_title, title %>
<% content_for :after_header do %>
  <%= govukBackLink text: "Back", href: previous_wizard_path %>
<% end %>

<%= form_with model: @component, url: wizard_path, method: :put do |form| %>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <%= render "form_components/govuk_error_summary", form: form %>
      <%= render "components/govuk_fieldset", legend: { text: title, classes: "govuk-label--xl", isPageHeading: true } %>

        <% @component.shades.each_with_index do |shade, _index| %>
          <div class="govuk-form-group">
            <%= form.text_field :shades, multiple: true, value: shade,
                    class: "govuk-input govuk-input--width-20 shade-input" %>

            <button type="submit" name="remove_shade_with_id" value=_index class="govuk-button govuk-button--secondary">Remove</button>
          </div>
        <% end %>
      <div class="govuk-form-group">
        <button class="govuk-button govuk-button--secondary" type="submit" name="add_shade" value='true'>Add another</button>
      </div>

      <div class="govuk-form-group">
        <%= govukButton text: "Continue" %>
      </div>

    </div>
  </div>
<% end %>
