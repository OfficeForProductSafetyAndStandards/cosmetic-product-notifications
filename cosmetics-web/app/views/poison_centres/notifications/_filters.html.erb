<section class="govuk-grid-column-one-third">


   <%= form_for(@form, url: poison_centre_notifications_path, method: :get, builder: ApplicationFormBuilder, html: { 'novalidate' => true }) do |form| %>
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">

        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <h2 class="govuk-fieldset__heading">
            Filter the results by<span class="govuk-visually-hidden">:</span>
          </h2>
        </legend>

        <div class="govuk-form-group">
          <label class="govuk-label" for="notification_search_form_category">
            Product category
          </label>
          <%= form.select :category, @form.class::CATEGORIES, { include_blank: true },  class: "govuk-select" %>
          <%= form.hidden_field :q %>
        </div>
        <div class="govuk-radios govuk-radios--small govuk-radios--conditional" data-module="govuk-radios">

          <div class="govuk-radios__item">
            <%= form.radio_button :date_filter, @form.class::FILTER_BY_DATE_EXACT, 'class' => "govuk-radios__input", 'id' => "by-date", 'aria-describedby' => "by-date-hint", 'aria-controls' => "conditional-date-block-1", 'aria-expanded' => "false" %>
            <label class="govuk-label govuk-radios__label" for="by-date">
              Date
            </label>
          </div>
          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-date-block-1">
            <div class="govuk-form-group">

              <div id="by-date-hint" class="govuk-hint govuk-!-font-size-16">
                The date notified. <br>
                For example, 14 08 2019.
              </div>

              <%= form.govuk_date_input :date_exact %>

              <% if false %>
              <div class="govuk-date-input" id="by-date">
                <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <%= search_date_filter_input(form, :date_exact_day, "Day") %>
                  </div>
                </div>
                <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <%= search_date_filter_input(form, :date_exact_month, "Month") %>
                  </div>
                </div>
                <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <%= search_date_filter_input(form, :date_exact_year, "Year") %>
                  </div>
                </div>
              </div>
            <% end %>

            </div>
          </div>
          <div class="govuk-radios__item">
            <%= form.radio_button :date_filter, @form.class::FILTER_BY_DATE_RANGE, 'class' => "govuk-radios__input", 'id' => "by-date-range", 'aria-describedby' => "by-date-hint", 'aria-controls' => "conditional-date-block-2", 'aria-expanded' => "false" %>
            <label class="govuk-label govuk-radios__label" for="by-date-range">
              Date range
            </label>
          </div>

          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-date-block-2">
            <div class="govuk-form-group">

              <div id="by-date-range-hint" class="govuk-hint govuk-!-font-size-16">
                The dates notified within a date range. For example, from <span class="opss-no-wrap">01 04 2019</span> to <span class="opss-no-wrap">30 09 2020</span>.
              </div>
              <div class="govuk-hint govuk-!-font-size-16">
                From<span class="govuk-visually-hidden">:</span>
              </div>

              <div class="govuk-date-input" id="by-date-from">
                <%= form.govuk_date_input :date_from %>

                <% if false %>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%#= search_date_filter_input(form, :date_from_day, "Day") %>
                      <% # and numeric input mode %>
                    </div>
                  </div>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%= search_date_filter_input(form, :date_from_month, "Month") %>
                    </div>
                  </div>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%= search_date_filter_input(form, :date_from_year, "Year") %>
                    </div>
                  </div>
                </div>
              <% end %>

              <div class="govuk-hint govuk-!-font-size-16 govuk-!-margin-top-4 govuk-!-margin-bottom-3">
                To<span class="govuk-visually-hidden">:</span>
              </div>
              <%= form.govuk_date_input :date_to %>

              <% if false %>
                <div class="govuk-date-input" id="by-date-to">
                  <% if false %>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%= search_date_filter_input(form, :date_to_day, "Day") %>
                      <% # and numeric input mode %>
                    </div>
                  </div>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%= search_date_filter_input(form, :date_to_month, "Month") %>
                    </div>
                  </div>
                  <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <%= search_date_filter_input(form, :date_to_year, "Year") %>
                    </div>
                  </div>
                </div>
              <% end %>

            </div>
          </div>
        </div>
      </fieldset>
    </div>

    <div class="govuk-button-group">
      <button type="submit" class="govuk-button" data-module="govuk-button">
        Apply
      </button>
    </div>

  <% end %>
</section>
