<% content_for :page_title, "UK Responsible Person details" %>
<% content_for :after_header do %>
  <%= link_to "Back", previous_wizard_path, class: "govuk-back-link" %>
<% end %>

<% name_label = @responsible_person.business? ? "Business name" : "Name" %>
<% address_label = @responsible_person.business? ? "UK business address" : "Address" %>

<%= form_with model: @responsible_person, url: wizard_path, method: :put do |form| %>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <%= error_summary_for(@responsible_person) %>

      <h1 class="govuk-heading-l">UK Responsible Person details</h1>

      <%= render "form_components/govuk_input", form: form, key: :name, label: { text: name_label } %>

      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <%= address_label %>
        </legend>
      </fieldset>
      <%= render "form_components/govuk_input", form: form, key: :address_line_1, label: { text: "Building and street" } %>
      <%= render "form_components/govuk_input", form: form, key: :address_line_2, label: { text: nil } %>
      <%= render "form_components/govuk_input", form: form, key: :city, label: { text: "Town or city" } %>
      <%= render "form_components/govuk_input", form: form, key: :county, label: { text: "County" } %>
      <%= render "form_components/govuk_input", form: form, key: :postal_code, label: { text: "Postcode" }, classes: "govuk-input--width-10" %>

      <div class="govuk-form-group">
        <%= govukButton text: "Continue" %>
      </div>
    </div>
  </div>
<% end %>
