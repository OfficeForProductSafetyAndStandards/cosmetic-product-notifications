<% title = "Your account" %>
<% page_title title %>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-l"><%= title %></h1>

    <% if submit_domain? %>
      <%= govukSummaryList(
        classes: "app-summary-list--key-weight-regular",
        rows: [
          {
            key: { text: "Full name" },
            value: { text: current_user.name },
            actions: {
              items: [
                {
                  href: edit_my_account_name_path,
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          },
          {
            key: { text: "Email address" },
            value: { text: current_user.email },
            actions: {
              items: [
                {
                  href: edit_my_account_email_path,
                  text: "Change",
                  visuallyHiddenText: "email address"
                }
              ]
            }
          },
          {
            key: { text: "Password" },
            value: { text: "********" },
            actions: {
              items: [
                {
                  href: edit_my_account_password_path,
                  text: "Change",
                  visuallyHiddenText: "password"
                }
              ]
            }
          }
        ]
      ) %>
    <% else %>
      <%= govukSummaryList(
        classes: "app-summary-list--key-weight-regular",
        rows: [
          {
            key: { text: "Full name" },
            value: { text: current_user.name },
            actions: {
              items: [
                {
                  href: edit_my_account_name_path,
                  text: "Change",
                  visuallyHiddenText: "name"
                }
              ]
            }
          },
          {
            key: { text: "Email address" },
            value: { text: current_user.email },
          },
          {
            key: { text: "Mobile number" },
            value: { text: current_user.mobile_number },
          },
          {
            key: { text: "Password" },
            value: { text: "********" },
            actions: {
              items: [
                {
                  href: edit_my_account_password_path,
                  text: "Change",
                  visuallyHiddenText: "password"
                }
              ]
            }
          }
        ]
      ) %>
    <% end %>

    <h2 class="govuk-heading-l">Your security preferences</h2>
    <p class="govuk-body">This is how you get access codes.</p>
      <%= govukSummaryList(
        classes: "app-summary-list--key-weight-regular",
        rows: [
          {
            key: { text: "Text message" },
            value: { text: current_user.mobile_number },
            actions: {
              items: [
                {
                  href: new_secondary_authentication_sms_setup_path,
                  text: current_user.sms_authentication_set? ? "Update" : "Add",
                  visuallyHiddenText: "text message"
                }
              ]
            }
          },
          {
            key: { text: "App" },
            value: { text: ("Authenticator App is set" if current_user.app_authentication_set?) },
            actions: {
              items: [
                {
                  href: new_secondary_authentication_app_setup_path,
                  text: current_user.app_authentication_set? ? "Update" : "Add",
                  visuallyHiddenText: "authenticator app"
                }
              ]
            }
          },
        ]
      ) %>
  </div>
</div>
